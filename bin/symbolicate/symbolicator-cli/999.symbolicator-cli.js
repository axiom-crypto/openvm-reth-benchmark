"use strict";exports.id=999,exports.ids=[999],exports.modules={81:(e,t,r)=>{var n,o=r(946),i=o.Reader,a=o.Writer,l=o.util,s=o.roots.default||(o.roots.default={});s.simpleperf_report_proto=((n={}).Sample=function(){function e(e){if(this.callchain=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.time=l.Long?l.Long.fromBits(0,0,!0):0,e.prototype.threadId=0,e.prototype.callchain=l.emptyArray,e.prototype.eventCount=l.Long?l.Long.fromBits(0,0,!0):0,e.prototype.eventTypeId=0,e.prototype.unwindingResult=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.time&&Object.hasOwnProperty.call(e,"time")&&t.uint32(8).uint64(e.time),null!=e.threadId&&Object.hasOwnProperty.call(e,"threadId")&&t.uint32(16).int32(e.threadId),null!=e.callchain&&e.callchain.length)for(var r=0;r<e.callchain.length;++r)s.simpleperf_report_proto.Sample.CallChainEntry.encode(e.callchain[r],t.uint32(26).fork()).ldelim();return null!=e.eventCount&&Object.hasOwnProperty.call(e,"eventCount")&&t.uint32(32).uint64(e.eventCount),null!=e.eventTypeId&&Object.hasOwnProperty.call(e,"eventTypeId")&&t.uint32(40).uint32(e.eventTypeId),null!=e.unwindingResult&&Object.hasOwnProperty.call(e,"unwindingResult")&&s.simpleperf_report_proto.Sample.UnwindingResult.encode(e.unwindingResult,t.uint32(50).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.simpleperf_report_proto.Sample;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.time=e.uint64();break;case 2:n.threadId=e.int32();break;case 3:n.callchain&&n.callchain.length||(n.callchain=[]),n.callchain.push(s.simpleperf_report_proto.Sample.CallChainEntry.decode(e,e.uint32()));break;case 4:n.eventCount=e.uint64();break;case 5:n.eventTypeId=e.uint32();break;case 6:n.unwindingResult=s.simpleperf_report_proto.Sample.UnwindingResult.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.time&&e.hasOwnProperty("time")&&!(l.isInteger(e.time)||e.time&&l.isInteger(e.time.low)&&l.isInteger(e.time.high)))return"time: integer|Long expected";if(null!=e.threadId&&e.hasOwnProperty("threadId")&&!l.isInteger(e.threadId))return"threadId: integer expected";if(null!=e.callchain&&e.hasOwnProperty("callchain")){if(!Array.isArray(e.callchain))return"callchain: array expected";for(var t=0;t<e.callchain.length;++t)if(r=s.simpleperf_report_proto.Sample.CallChainEntry.verify(e.callchain[t]))return"callchain."+r}return null!=e.eventCount&&e.hasOwnProperty("eventCount")&&!(l.isInteger(e.eventCount)||e.eventCount&&l.isInteger(e.eventCount.low)&&l.isInteger(e.eventCount.high))?"eventCount: integer|Long expected":null!=e.eventTypeId&&e.hasOwnProperty("eventTypeId")&&!l.isInteger(e.eventTypeId)?"eventTypeId: integer expected":null!=e.unwindingResult&&e.hasOwnProperty("unwindingResult")&&(r=s.simpleperf_report_proto.Sample.UnwindingResult.verify(e.unwindingResult))?"unwindingResult."+r:null;var r},e.fromObject=function(e){if(e instanceof s.simpleperf_report_proto.Sample)return e;var t=new s.simpleperf_report_proto.Sample;if(null!=e.time&&(l.Long?(t.time=l.Long.fromValue(e.time)).unsigned=!0:"string"==typeof e.time?t.time=parseInt(e.time,10):"number"==typeof e.time?t.time=e.time:"object"==typeof e.time&&(t.time=new l.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0))),null!=e.threadId&&(t.threadId=0|e.threadId),e.callchain){if(!Array.isArray(e.callchain))throw TypeError(".simpleperf_report_proto.Sample.callchain: array expected");t.callchain=[];for(var r=0;r<e.callchain.length;++r){if("object"!=typeof e.callchain[r])throw TypeError(".simpleperf_report_proto.Sample.callchain: object expected");t.callchain[r]=s.simpleperf_report_proto.Sample.CallChainEntry.fromObject(e.callchain[r])}}if(null!=e.eventCount&&(l.Long?(t.eventCount=l.Long.fromValue(e.eventCount)).unsigned=!0:"string"==typeof e.eventCount?t.eventCount=parseInt(e.eventCount,10):"number"==typeof e.eventCount?t.eventCount=e.eventCount:"object"==typeof e.eventCount&&(t.eventCount=new l.LongBits(e.eventCount.low>>>0,e.eventCount.high>>>0).toNumber(!0))),null!=e.eventTypeId&&(t.eventTypeId=e.eventTypeId>>>0),null!=e.unwindingResult){if("object"!=typeof e.unwindingResult)throw TypeError(".simpleperf_report_proto.Sample.unwindingResult: object expected");t.unwindingResult=s.simpleperf_report_proto.Sample.UnwindingResult.fromObject(e.unwindingResult)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.callchain=[]),t.defaults){if(l.Long){var n=new l.Long(0,0,!0);r.time=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.time=t.longs===String?"0":0;r.threadId=0,l.Long?(n=new l.Long(0,0,!0),r.eventCount=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.eventCount=t.longs===String?"0":0,r.eventTypeId=0,r.unwindingResult=null}if(null!=e.time&&e.hasOwnProperty("time")&&("number"==typeof e.time?r.time=t.longs===String?String(e.time):e.time:r.time=t.longs===String?l.Long.prototype.toString.call(e.time):t.longs===Number?new l.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0):e.time),null!=e.threadId&&e.hasOwnProperty("threadId")&&(r.threadId=e.threadId),e.callchain&&e.callchain.length){r.callchain=[];for(var o=0;o<e.callchain.length;++o)r.callchain[o]=s.simpleperf_report_proto.Sample.CallChainEntry.toObject(e.callchain[o],t)}return null!=e.eventCount&&e.hasOwnProperty("eventCount")&&("number"==typeof e.eventCount?r.eventCount=t.longs===String?String(e.eventCount):e.eventCount:r.eventCount=t.longs===String?l.Long.prototype.toString.call(e.eventCount):t.longs===Number?new l.LongBits(e.eventCount.low>>>0,e.eventCount.high>>>0).toNumber(!0):e.eventCount),null!=e.eventTypeId&&e.hasOwnProperty("eventTypeId")&&(r.eventTypeId=e.eventTypeId),null!=e.unwindingResult&&e.hasOwnProperty("unwindingResult")&&(r.unwindingResult=s.simpleperf_report_proto.Sample.UnwindingResult.toObject(e.unwindingResult,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/simpleperf_report_proto.Sample"},e.CallChainEntry=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r;return e.prototype.vaddrInFile=l.Long?l.Long.fromBits(0,0,!0):0,e.prototype.fileId=0,e.prototype.symbolId=0,e.prototype.executionType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.vaddrInFile&&Object.hasOwnProperty.call(e,"vaddrInFile")&&t.uint32(8).uint64(e.vaddrInFile),null!=e.fileId&&Object.hasOwnProperty.call(e,"fileId")&&t.uint32(16).uint32(e.fileId),null!=e.symbolId&&Object.hasOwnProperty.call(e,"symbolId")&&t.uint32(24).int32(e.symbolId),null!=e.executionType&&Object.hasOwnProperty.call(e,"executionType")&&t.uint32(32).int32(e.executionType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.simpleperf_report_proto.Sample.CallChainEntry;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.vaddrInFile=e.uint64();break;case 2:n.fileId=e.uint32();break;case 3:n.symbolId=e.int32();break;case 4:n.executionType=e.int32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.vaddrInFile&&e.hasOwnProperty("vaddrInFile")&&!(l.isInteger(e.vaddrInFile)||e.vaddrInFile&&l.isInteger(e.vaddrInFile.low)&&l.isInteger(e.vaddrInFile.high)))return"vaddrInFile: integer|Long expected";if(null!=e.fileId&&e.hasOwnProperty("fileId")&&!l.isInteger(e.fileId))return"fileId: integer expected";if(null!=e.symbolId&&e.hasOwnProperty("symbolId")&&!l.isInteger(e.symbolId))return"symbolId: integer expected";if(null!=e.executionType&&e.hasOwnProperty("executionType"))switch(e.executionType){default:return"executionType: enum value expected";case 0:case 1:case 2:case 3:}return null},e.fromObject=function(e){if(e instanceof s.simpleperf_report_proto.Sample.CallChainEntry)return e;var t=new s.simpleperf_report_proto.Sample.CallChainEntry;switch(null!=e.vaddrInFile&&(l.Long?(t.vaddrInFile=l.Long.fromValue(e.vaddrInFile)).unsigned=!0:"string"==typeof e.vaddrInFile?t.vaddrInFile=parseInt(e.vaddrInFile,10):"number"==typeof e.vaddrInFile?t.vaddrInFile=e.vaddrInFile:"object"==typeof e.vaddrInFile&&(t.vaddrInFile=new l.LongBits(e.vaddrInFile.low>>>0,e.vaddrInFile.high>>>0).toNumber(!0))),null!=e.fileId&&(t.fileId=e.fileId>>>0),null!=e.symbolId&&(t.symbolId=0|e.symbolId),e.executionType){default:if("number"==typeof e.executionType){t.executionType=e.executionType;break}break;case"NATIVE_METHOD":case 0:t.executionType=0;break;case"INTERPRETED_JVM_METHOD":case 1:t.executionType=1;break;case"JIT_JVM_METHOD":case 2:t.executionType=2;break;case"ART_METHOD":case 3:t.executionType=3}return t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(l.Long){var n=new l.Long(0,0,!0);r.vaddrInFile=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.vaddrInFile=t.longs===String?"0":0;r.fileId=0,r.symbolId=0,r.executionType=t.enums===String?"NATIVE_METHOD":0}return null!=e.vaddrInFile&&e.hasOwnProperty("vaddrInFile")&&("number"==typeof e.vaddrInFile?r.vaddrInFile=t.longs===String?String(e.vaddrInFile):e.vaddrInFile:r.vaddrInFile=t.longs===String?l.Long.prototype.toString.call(e.vaddrInFile):t.longs===Number?new l.LongBits(e.vaddrInFile.low>>>0,e.vaddrInFile.high>>>0).toNumber(!0):e.vaddrInFile),null!=e.fileId&&e.hasOwnProperty("fileId")&&(r.fileId=e.fileId),null!=e.symbolId&&e.hasOwnProperty("symbolId")&&(r.symbolId=e.symbolId),null!=e.executionType&&e.hasOwnProperty("executionType")&&(r.executionType=t.enums===String?void 0===s.simpleperf_report_proto.Sample.CallChainEntry.ExecutionType[e.executionType]?e.executionType:s.simpleperf_report_proto.Sample.CallChainEntry.ExecutionType[e.executionType]:e.executionType),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/simpleperf_report_proto.Sample.CallChainEntry"},e.ExecutionType=(t={},(r=Object.create(t))[t[0]="NATIVE_METHOD"]=0,r[t[1]="INTERPRETED_JVM_METHOD"]=1,r[t[2]="JIT_JVM_METHOD"]=2,r[t[3]="ART_METHOD"]=3,r),e}(),e.UnwindingResult=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r;return e.prototype.rawErrorCode=0,e.prototype.errorAddr=l.Long?l.Long.fromBits(0,0,!0):0,e.prototype.errorCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.rawErrorCode&&Object.hasOwnProperty.call(e,"rawErrorCode")&&t.uint32(8).uint32(e.rawErrorCode),null!=e.errorAddr&&Object.hasOwnProperty.call(e,"errorAddr")&&t.uint32(16).uint64(e.errorAddr),null!=e.errorCode&&Object.hasOwnProperty.call(e,"errorCode")&&t.uint32(24).int32(e.errorCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.simpleperf_report_proto.Sample.UnwindingResult;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.rawErrorCode=e.uint32();break;case 2:n.errorAddr=e.uint64();break;case 3:n.errorCode=e.int32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.rawErrorCode&&e.hasOwnProperty("rawErrorCode")&&!l.isInteger(e.rawErrorCode))return"rawErrorCode: integer expected";if(null!=e.errorAddr&&e.hasOwnProperty("errorAddr")&&!(l.isInteger(e.errorAddr)||e.errorAddr&&l.isInteger(e.errorAddr.low)&&l.isInteger(e.errorAddr.high)))return"errorAddr: integer|Long expected";if(null!=e.errorCode&&e.hasOwnProperty("errorCode"))switch(e.errorCode){default:return"errorCode: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:}return null},e.fromObject=function(e){if(e instanceof s.simpleperf_report_proto.Sample.UnwindingResult)return e;var t=new s.simpleperf_report_proto.Sample.UnwindingResult;switch(null!=e.rawErrorCode&&(t.rawErrorCode=e.rawErrorCode>>>0),null!=e.errorAddr&&(l.Long?(t.errorAddr=l.Long.fromValue(e.errorAddr)).unsigned=!0:"string"==typeof e.errorAddr?t.errorAddr=parseInt(e.errorAddr,10):"number"==typeof e.errorAddr?t.errorAddr=e.errorAddr:"object"==typeof e.errorAddr&&(t.errorAddr=new l.LongBits(e.errorAddr.low>>>0,e.errorAddr.high>>>0).toNumber(!0))),e.errorCode){default:if("number"==typeof e.errorCode){t.errorCode=e.errorCode;break}break;case"ERROR_NONE":case 0:t.errorCode=0;break;case"ERROR_UNKNOWN":case 1:t.errorCode=1;break;case"ERROR_NOT_ENOUGH_STACK":case 2:t.errorCode=2;break;case"ERROR_MEMORY_INVALID":case 3:t.errorCode=3;break;case"ERROR_UNWIND_INFO":case 4:t.errorCode=4;break;case"ERROR_INVALID_MAP":case 5:t.errorCode=5;break;case"ERROR_MAX_FRAME_EXCEEDED":case 6:t.errorCode=6;break;case"ERROR_REPEATED_FRAME":case 7:t.errorCode=7;break;case"ERROR_INVALID_ELF":case 8:t.errorCode=8}return t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(r.rawErrorCode=0,l.Long){var n=new l.Long(0,0,!0);r.errorAddr=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.errorAddr=t.longs===String?"0":0;r.errorCode=t.enums===String?"ERROR_NONE":0}return null!=e.rawErrorCode&&e.hasOwnProperty("rawErrorCode")&&(r.rawErrorCode=e.rawErrorCode),null!=e.errorAddr&&e.hasOwnProperty("errorAddr")&&("number"==typeof e.errorAddr?r.errorAddr=t.longs===String?String(e.errorAddr):e.errorAddr:r.errorAddr=t.longs===String?l.Long.prototype.toString.call(e.errorAddr):t.longs===Number?new l.LongBits(e.errorAddr.low>>>0,e.errorAddr.high>>>0).toNumber(!0):e.errorAddr),null!=e.errorCode&&e.hasOwnProperty("errorCode")&&(r.errorCode=t.enums===String?void 0===s.simpleperf_report_proto.Sample.UnwindingResult.ErrorCode[e.errorCode]?e.errorCode:s.simpleperf_report_proto.Sample.UnwindingResult.ErrorCode[e.errorCode]:e.errorCode),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/simpleperf_report_proto.Sample.UnwindingResult"},e.ErrorCode=(t={},(r=Object.create(t))[t[0]="ERROR_NONE"]=0,r[t[1]="ERROR_UNKNOWN"]=1,r[t[2]="ERROR_NOT_ENOUGH_STACK"]=2,r[t[3]="ERROR_MEMORY_INVALID"]=3,r[t[4]="ERROR_UNWIND_INFO"]=4,r[t[5]="ERROR_INVALID_MAP"]=5,r[t[6]="ERROR_MAX_FRAME_EXCEEDED"]=6,r[t[7]="ERROR_REPEATED_FRAME"]=7,r[t[8]="ERROR_INVALID_ELF"]=8,r),e}(),e}(),n.LostSituation=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.sampleCount=l.Long?l.Long.fromBits(0,0,!0):0,e.prototype.lostCount=l.Long?l.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.sampleCount&&Object.hasOwnProperty.call(e,"sampleCount")&&t.uint32(8).uint64(e.sampleCount),null!=e.lostCount&&Object.hasOwnProperty.call(e,"lostCount")&&t.uint32(16).uint64(e.lostCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.simpleperf_report_proto.LostSituation;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.sampleCount=e.uint64();break;case 2:n.lostCount=e.uint64();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.sampleCount&&e.hasOwnProperty("sampleCount")&&!(l.isInteger(e.sampleCount)||e.sampleCount&&l.isInteger(e.sampleCount.low)&&l.isInteger(e.sampleCount.high))?"sampleCount: integer|Long expected":null!=e.lostCount&&e.hasOwnProperty("lostCount")&&!(l.isInteger(e.lostCount)||e.lostCount&&l.isInteger(e.lostCount.low)&&l.isInteger(e.lostCount.high))?"lostCount: integer|Long expected":null},e.fromObject=function(e){if(e instanceof s.simpleperf_report_proto.LostSituation)return e;var t=new s.simpleperf_report_proto.LostSituation;return null!=e.sampleCount&&(l.Long?(t.sampleCount=l.Long.fromValue(e.sampleCount)).unsigned=!0:"string"==typeof e.sampleCount?t.sampleCount=parseInt(e.sampleCount,10):"number"==typeof e.sampleCount?t.sampleCount=e.sampleCount:"object"==typeof e.sampleCount&&(t.sampleCount=new l.LongBits(e.sampleCount.low>>>0,e.sampleCount.high>>>0).toNumber(!0))),null!=e.lostCount&&(l.Long?(t.lostCount=l.Long.fromValue(e.lostCount)).unsigned=!0:"string"==typeof e.lostCount?t.lostCount=parseInt(e.lostCount,10):"number"==typeof e.lostCount?t.lostCount=e.lostCount:"object"==typeof e.lostCount&&(t.lostCount=new l.LongBits(e.lostCount.low>>>0,e.lostCount.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(l.Long){var n=new l.Long(0,0,!0);r.sampleCount=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.sampleCount=t.longs===String?"0":0;l.Long?(n=new l.Long(0,0,!0),r.lostCount=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.lostCount=t.longs===String?"0":0}return null!=e.sampleCount&&e.hasOwnProperty("sampleCount")&&("number"==typeof e.sampleCount?r.sampleCount=t.longs===String?String(e.sampleCount):e.sampleCount:r.sampleCount=t.longs===String?l.Long.prototype.toString.call(e.sampleCount):t.longs===Number?new l.LongBits(e.sampleCount.low>>>0,e.sampleCount.high>>>0).toNumber(!0):e.sampleCount),null!=e.lostCount&&e.hasOwnProperty("lostCount")&&("number"==typeof e.lostCount?r.lostCount=t.longs===String?String(e.lostCount):e.lostCount:r.lostCount=t.longs===String?l.Long.prototype.toString.call(e.lostCount):t.longs===Number?new l.LongBits(e.lostCount.low>>>0,e.lostCount.high>>>0).toNumber(!0):e.lostCount),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/simpleperf_report_proto.LostSituation"},e}(),n.File=function(){function e(e){if(this.symbol=[],this.mangledSymbol=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.id=0,e.prototype.path="",e.prototype.symbol=l.emptyArray,e.prototype.mangledSymbol=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).uint32(e.id),null!=e.path&&Object.hasOwnProperty.call(e,"path")&&t.uint32(18).string(e.path),null!=e.symbol&&e.symbol.length)for(var r=0;r<e.symbol.length;++r)t.uint32(26).string(e.symbol[r]);if(null!=e.mangledSymbol&&e.mangledSymbol.length)for(r=0;r<e.mangledSymbol.length;++r)t.uint32(34).string(e.mangledSymbol[r]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.simpleperf_report_proto.File;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.id=e.uint32();break;case 2:n.path=e.string();break;case 3:n.symbol&&n.symbol.length||(n.symbol=[]),n.symbol.push(e.string());break;case 4:n.mangledSymbol&&n.mangledSymbol.length||(n.mangledSymbol=[]),n.mangledSymbol.push(e.string());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!l.isInteger(e.id))return"id: integer expected";if(null!=e.path&&e.hasOwnProperty("path")&&!l.isString(e.path))return"path: string expected";if(null!=e.symbol&&e.hasOwnProperty("symbol")){if(!Array.isArray(e.symbol))return"symbol: array expected";for(var t=0;t<e.symbol.length;++t)if(!l.isString(e.symbol[t]))return"symbol: string[] expected"}if(null!=e.mangledSymbol&&e.hasOwnProperty("mangledSymbol")){if(!Array.isArray(e.mangledSymbol))return"mangledSymbol: array expected";for(t=0;t<e.mangledSymbol.length;++t)if(!l.isString(e.mangledSymbol[t]))return"mangledSymbol: string[] expected"}return null},e.fromObject=function(e){if(e instanceof s.simpleperf_report_proto.File)return e;var t=new s.simpleperf_report_proto.File;if(null!=e.id&&(t.id=e.id>>>0),null!=e.path&&(t.path=String(e.path)),e.symbol){if(!Array.isArray(e.symbol))throw TypeError(".simpleperf_report_proto.File.symbol: array expected");t.symbol=[];for(var r=0;r<e.symbol.length;++r)t.symbol[r]=String(e.symbol[r])}if(e.mangledSymbol){if(!Array.isArray(e.mangledSymbol))throw TypeError(".simpleperf_report_proto.File.mangledSymbol: array expected");for(t.mangledSymbol=[],r=0;r<e.mangledSymbol.length;++r)t.mangledSymbol[r]=String(e.mangledSymbol[r])}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.symbol=[],r.mangledSymbol=[]),t.defaults&&(r.id=0,r.path=""),null!=e.id&&e.hasOwnProperty("id")&&(r.id=e.id),null!=e.path&&e.hasOwnProperty("path")&&(r.path=e.path),e.symbol&&e.symbol.length){r.symbol=[];for(var n=0;n<e.symbol.length;++n)r.symbol[n]=e.symbol[n]}if(e.mangledSymbol&&e.mangledSymbol.length)for(r.mangledSymbol=[],n=0;n<e.mangledSymbol.length;++n)r.mangledSymbol[n]=e.mangledSymbol[n];return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/simpleperf_report_proto.File"},e}(),n.Thread=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.threadId=0,e.prototype.processId=0,e.prototype.threadName="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.threadId&&Object.hasOwnProperty.call(e,"threadId")&&t.uint32(8).uint32(e.threadId),null!=e.processId&&Object.hasOwnProperty.call(e,"processId")&&t.uint32(16).uint32(e.processId),null!=e.threadName&&Object.hasOwnProperty.call(e,"threadName")&&t.uint32(26).string(e.threadName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.simpleperf_report_proto.Thread;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.threadId=e.uint32();break;case 2:n.processId=e.uint32();break;case 3:n.threadName=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.threadId&&e.hasOwnProperty("threadId")&&!l.isInteger(e.threadId)?"threadId: integer expected":null!=e.processId&&e.hasOwnProperty("processId")&&!l.isInteger(e.processId)?"processId: integer expected":null!=e.threadName&&e.hasOwnProperty("threadName")&&!l.isString(e.threadName)?"threadName: string expected":null},e.fromObject=function(e){if(e instanceof s.simpleperf_report_proto.Thread)return e;var t=new s.simpleperf_report_proto.Thread;return null!=e.threadId&&(t.threadId=e.threadId>>>0),null!=e.processId&&(t.processId=e.processId>>>0),null!=e.threadName&&(t.threadName=String(e.threadName)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.threadId=0,r.processId=0,r.threadName=""),null!=e.threadId&&e.hasOwnProperty("threadId")&&(r.threadId=e.threadId),null!=e.processId&&e.hasOwnProperty("processId")&&(r.processId=e.processId),null!=e.threadName&&e.hasOwnProperty("threadName")&&(r.threadName=e.threadName),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/simpleperf_report_proto.Thread"},e}(),n.MetaInfo=function(){function e(e){if(this.eventType=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.eventType=l.emptyArray,e.prototype.appPackageName="",e.prototype.appType="",e.prototype.androidSdkVersion="",e.prototype.androidBuildType="",e.prototype.traceOffcpu=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.eventType&&e.eventType.length)for(var r=0;r<e.eventType.length;++r)t.uint32(10).string(e.eventType[r]);return null!=e.appPackageName&&Object.hasOwnProperty.call(e,"appPackageName")&&t.uint32(18).string(e.appPackageName),null!=e.appType&&Object.hasOwnProperty.call(e,"appType")&&t.uint32(26).string(e.appType),null!=e.androidSdkVersion&&Object.hasOwnProperty.call(e,"androidSdkVersion")&&t.uint32(34).string(e.androidSdkVersion),null!=e.androidBuildType&&Object.hasOwnProperty.call(e,"androidBuildType")&&t.uint32(42).string(e.androidBuildType),null!=e.traceOffcpu&&Object.hasOwnProperty.call(e,"traceOffcpu")&&t.uint32(48).bool(e.traceOffcpu),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.simpleperf_report_proto.MetaInfo;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.eventType&&n.eventType.length||(n.eventType=[]),n.eventType.push(e.string());break;case 2:n.appPackageName=e.string();break;case 3:n.appType=e.string();break;case 4:n.androidSdkVersion=e.string();break;case 5:n.androidBuildType=e.string();break;case 6:n.traceOffcpu=e.bool();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.eventType&&e.hasOwnProperty("eventType")){if(!Array.isArray(e.eventType))return"eventType: array expected";for(var t=0;t<e.eventType.length;++t)if(!l.isString(e.eventType[t]))return"eventType: string[] expected"}return null!=e.appPackageName&&e.hasOwnProperty("appPackageName")&&!l.isString(e.appPackageName)?"appPackageName: string expected":null!=e.appType&&e.hasOwnProperty("appType")&&!l.isString(e.appType)?"appType: string expected":null!=e.androidSdkVersion&&e.hasOwnProperty("androidSdkVersion")&&!l.isString(e.androidSdkVersion)?"androidSdkVersion: string expected":null!=e.androidBuildType&&e.hasOwnProperty("androidBuildType")&&!l.isString(e.androidBuildType)?"androidBuildType: string expected":null!=e.traceOffcpu&&e.hasOwnProperty("traceOffcpu")&&"boolean"!=typeof e.traceOffcpu?"traceOffcpu: boolean expected":null},e.fromObject=function(e){if(e instanceof s.simpleperf_report_proto.MetaInfo)return e;var t=new s.simpleperf_report_proto.MetaInfo;if(e.eventType){if(!Array.isArray(e.eventType))throw TypeError(".simpleperf_report_proto.MetaInfo.eventType: array expected");t.eventType=[];for(var r=0;r<e.eventType.length;++r)t.eventType[r]=String(e.eventType[r])}return null!=e.appPackageName&&(t.appPackageName=String(e.appPackageName)),null!=e.appType&&(t.appType=String(e.appType)),null!=e.androidSdkVersion&&(t.androidSdkVersion=String(e.androidSdkVersion)),null!=e.androidBuildType&&(t.androidBuildType=String(e.androidBuildType)),null!=e.traceOffcpu&&(t.traceOffcpu=Boolean(e.traceOffcpu)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.eventType=[]),t.defaults&&(r.appPackageName="",r.appType="",r.androidSdkVersion="",r.androidBuildType="",r.traceOffcpu=!1),e.eventType&&e.eventType.length){r.eventType=[];for(var n=0;n<e.eventType.length;++n)r.eventType[n]=e.eventType[n]}return null!=e.appPackageName&&e.hasOwnProperty("appPackageName")&&(r.appPackageName=e.appPackageName),null!=e.appType&&e.hasOwnProperty("appType")&&(r.appType=e.appType),null!=e.androidSdkVersion&&e.hasOwnProperty("androidSdkVersion")&&(r.androidSdkVersion=e.androidSdkVersion),null!=e.androidBuildType&&e.hasOwnProperty("androidBuildType")&&(r.androidBuildType=e.androidBuildType),null!=e.traceOffcpu&&e.hasOwnProperty("traceOffcpu")&&(r.traceOffcpu=e.traceOffcpu),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/simpleperf_report_proto.MetaInfo"},e}(),n.ContextSwitch=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.switchOn=!1,e.prototype.time=l.Long?l.Long.fromBits(0,0,!0):0,e.prototype.threadId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.switchOn&&Object.hasOwnProperty.call(e,"switchOn")&&t.uint32(8).bool(e.switchOn),null!=e.time&&Object.hasOwnProperty.call(e,"time")&&t.uint32(16).uint64(e.time),null!=e.threadId&&Object.hasOwnProperty.call(e,"threadId")&&t.uint32(24).uint32(e.threadId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.simpleperf_report_proto.ContextSwitch;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.switchOn=e.bool();break;case 2:n.time=e.uint64();break;case 3:n.threadId=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.switchOn&&e.hasOwnProperty("switchOn")&&"boolean"!=typeof e.switchOn?"switchOn: boolean expected":null!=e.time&&e.hasOwnProperty("time")&&!(l.isInteger(e.time)||e.time&&l.isInteger(e.time.low)&&l.isInteger(e.time.high))?"time: integer|Long expected":null!=e.threadId&&e.hasOwnProperty("threadId")&&!l.isInteger(e.threadId)?"threadId: integer expected":null},e.fromObject=function(e){if(e instanceof s.simpleperf_report_proto.ContextSwitch)return e;var t=new s.simpleperf_report_proto.ContextSwitch;return null!=e.switchOn&&(t.switchOn=Boolean(e.switchOn)),null!=e.time&&(l.Long?(t.time=l.Long.fromValue(e.time)).unsigned=!0:"string"==typeof e.time?t.time=parseInt(e.time,10):"number"==typeof e.time?t.time=e.time:"object"==typeof e.time&&(t.time=new l.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0))),null!=e.threadId&&(t.threadId=e.threadId>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(r.switchOn=!1,l.Long){var n=new l.Long(0,0,!0);r.time=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.time=t.longs===String?"0":0;r.threadId=0}return null!=e.switchOn&&e.hasOwnProperty("switchOn")&&(r.switchOn=e.switchOn),null!=e.time&&e.hasOwnProperty("time")&&("number"==typeof e.time?r.time=t.longs===String?String(e.time):e.time:r.time=t.longs===String?l.Long.prototype.toString.call(e.time):t.longs===Number?new l.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0):e.time),null!=e.threadId&&e.hasOwnProperty("threadId")&&(r.threadId=e.threadId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/simpleperf_report_proto.ContextSwitch"},e}(),n.Record=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.sample=null,e.prototype.lost=null,e.prototype.file=null,e.prototype.thread=null,e.prototype.metaInfo=null,e.prototype.contextSwitch=null,Object.defineProperty(e.prototype,"recordData",{get:l.oneOfGetter(t=["sample","lost","file","thread","metaInfo","contextSwitch"]),set:l.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.sample&&Object.hasOwnProperty.call(e,"sample")&&s.simpleperf_report_proto.Sample.encode(e.sample,t.uint32(10).fork()).ldelim(),null!=e.lost&&Object.hasOwnProperty.call(e,"lost")&&s.simpleperf_report_proto.LostSituation.encode(e.lost,t.uint32(18).fork()).ldelim(),null!=e.file&&Object.hasOwnProperty.call(e,"file")&&s.simpleperf_report_proto.File.encode(e.file,t.uint32(26).fork()).ldelim(),null!=e.thread&&Object.hasOwnProperty.call(e,"thread")&&s.simpleperf_report_proto.Thread.encode(e.thread,t.uint32(34).fork()).ldelim(),null!=e.metaInfo&&Object.hasOwnProperty.call(e,"metaInfo")&&s.simpleperf_report_proto.MetaInfo.encode(e.metaInfo,t.uint32(42).fork()).ldelim(),null!=e.contextSwitch&&Object.hasOwnProperty.call(e,"contextSwitch")&&s.simpleperf_report_proto.ContextSwitch.encode(e.contextSwitch,t.uint32(50).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.simpleperf_report_proto.Record;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.sample=s.simpleperf_report_proto.Sample.decode(e,e.uint32());break;case 2:n.lost=s.simpleperf_report_proto.LostSituation.decode(e,e.uint32());break;case 3:n.file=s.simpleperf_report_proto.File.decode(e,e.uint32());break;case 4:n.thread=s.simpleperf_report_proto.Thread.decode(e,e.uint32());break;case 5:n.metaInfo=s.simpleperf_report_proto.MetaInfo.decode(e,e.uint32());break;case 6:n.contextSwitch=s.simpleperf_report_proto.ContextSwitch.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.sample&&e.hasOwnProperty("sample")&&(t.recordData=1,r=s.simpleperf_report_proto.Sample.verify(e.sample)))return"sample."+r;if(null!=e.lost&&e.hasOwnProperty("lost")){if(1===t.recordData)return"recordData: multiple values";if(t.recordData=1,r=s.simpleperf_report_proto.LostSituation.verify(e.lost))return"lost."+r}if(null!=e.file&&e.hasOwnProperty("file")){if(1===t.recordData)return"recordData: multiple values";if(t.recordData=1,r=s.simpleperf_report_proto.File.verify(e.file))return"file."+r}if(null!=e.thread&&e.hasOwnProperty("thread")){if(1===t.recordData)return"recordData: multiple values";if(t.recordData=1,r=s.simpleperf_report_proto.Thread.verify(e.thread))return"thread."+r}if(null!=e.metaInfo&&e.hasOwnProperty("metaInfo")){if(1===t.recordData)return"recordData: multiple values";if(t.recordData=1,r=s.simpleperf_report_proto.MetaInfo.verify(e.metaInfo))return"metaInfo."+r}if(null!=e.contextSwitch&&e.hasOwnProperty("contextSwitch")){if(1===t.recordData)return"recordData: multiple values";var r;if(t.recordData=1,r=s.simpleperf_report_proto.ContextSwitch.verify(e.contextSwitch))return"contextSwitch."+r}return null},e.fromObject=function(e){if(e instanceof s.simpleperf_report_proto.Record)return e;var t=new s.simpleperf_report_proto.Record;if(null!=e.sample){if("object"!=typeof e.sample)throw TypeError(".simpleperf_report_proto.Record.sample: object expected");t.sample=s.simpleperf_report_proto.Sample.fromObject(e.sample)}if(null!=e.lost){if("object"!=typeof e.lost)throw TypeError(".simpleperf_report_proto.Record.lost: object expected");t.lost=s.simpleperf_report_proto.LostSituation.fromObject(e.lost)}if(null!=e.file){if("object"!=typeof e.file)throw TypeError(".simpleperf_report_proto.Record.file: object expected");t.file=s.simpleperf_report_proto.File.fromObject(e.file)}if(null!=e.thread){if("object"!=typeof e.thread)throw TypeError(".simpleperf_report_proto.Record.thread: object expected");t.thread=s.simpleperf_report_proto.Thread.fromObject(e.thread)}if(null!=e.metaInfo){if("object"!=typeof e.metaInfo)throw TypeError(".simpleperf_report_proto.Record.metaInfo: object expected");t.metaInfo=s.simpleperf_report_proto.MetaInfo.fromObject(e.metaInfo)}if(null!=e.contextSwitch){if("object"!=typeof e.contextSwitch)throw TypeError(".simpleperf_report_proto.Record.contextSwitch: object expected");t.contextSwitch=s.simpleperf_report_proto.ContextSwitch.fromObject(e.contextSwitch)}return t},e.toObject=function(e,t){t||(t={});var r={};return null!=e.sample&&e.hasOwnProperty("sample")&&(r.sample=s.simpleperf_report_proto.Sample.toObject(e.sample,t),t.oneofs&&(r.recordData="sample")),null!=e.lost&&e.hasOwnProperty("lost")&&(r.lost=s.simpleperf_report_proto.LostSituation.toObject(e.lost,t),t.oneofs&&(r.recordData="lost")),null!=e.file&&e.hasOwnProperty("file")&&(r.file=s.simpleperf_report_proto.File.toObject(e.file,t),t.oneofs&&(r.recordData="file")),null!=e.thread&&e.hasOwnProperty("thread")&&(r.thread=s.simpleperf_report_proto.Thread.toObject(e.thread,t),t.oneofs&&(r.recordData="thread")),null!=e.metaInfo&&e.hasOwnProperty("metaInfo")&&(r.metaInfo=s.simpleperf_report_proto.MetaInfo.toObject(e.metaInfo,t),t.oneofs&&(r.recordData="metaInfo")),null!=e.contextSwitch&&e.hasOwnProperty("contextSwitch")&&(r.contextSwitch=s.simpleperf_report_proto.ContextSwitch.toObject(e.contextSwitch,t),t.oneofs&&(r.recordData="contextSwitch")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/simpleperf_report_proto.Record"},e}(),n),e.exports=s},999:(e,t,r)=>{r.d(t,{convertSimpleperfTraceProfile:()=>v});var n,o=r(81),i=r(839),a=r(737),l=r(263),s=r(919),p=r(720),d=r(442);function u(e){return d.A.isLong(e)?e.toNumber():e}function c(e){return u(e)/1e6}class f{static toJson(){return this.categoryList}static createCategory(e,t){const r=this.categoryList.length;return this.categoryList.push({name:e,color:t,subcategories:["Other"]}),r}}n=f,f.categoryList=[],f.Other=n.createCategory("Other","grey"),f.Native=n.createCategory("Native","magenta"),f.Java=n.createCategory("Java","green"),f.System=n.createCategory("System","yellow"),f.Kernel=n.createCategory("Kernel","orange");class h{constructor(e){this.strings=void 0,this.resourceTable=(0,a.WU)(),this.resourcesMap=new Map,this.strings=e}toJson(){return this.resourceTable}findOrAddResource(e){let t=this.resourcesMap.get(e.id);return t||(this.resourceTable.lib.push(null),this.resourceTable.name.push(this.strings.indexForString(e.path)),this.resourceTable.host.push(null),this.resourceTable.type.push(1),t=this.resourceTable.length++,this.resourcesMap.set(e.id,t)),t}}class m{constructor(e){this.strings=void 0,this.funcTable=(0,a.uv)(),this.funcMap=new Map,this.strings=e}toJson(){return this.funcTable}findOrAddFunc(e,t){const r=this.strings.indexForString(e),n=`${r}-${t}`;let o=this.funcMap.get(n);return o||(this.funcTable.name.push(r),this.funcTable.isJS.push(!1),this.funcTable.relevantForJS.push(!1),this.funcTable.resource.push(t),this.funcTable.fileName.push(null),this.funcTable.lineNumber.push(null),this.funcTable.columnNumber.push(null),o=this.funcTable.length++,this.funcMap.set(n,o)),o}}class y{constructor(e){this.strings=void 0,this.frameTable=(0,a.vA)(),this.frameMap=new Map,this.strings=e}toJson(){return this.frameTable}findOrAddFrame(e,t){const r=`${e}-${t}`;let n=this.frameMap.get(r);return n||(this.frameTable.address.push(-1),this.frameTable.inlineDepth.push(0),this.frameTable.category.push(t),this.frameTable.subcategory.push(0),this.frameTable.func.push(e),this.frameTable.nativeSymbol.push(null),this.frameTable.innerWindowID.push(null),this.frameTable.line.push(null),this.frameTable.column.push(null),n=this.frameTable.length++,this.frameMap.set(r,n)),n}}class g{constructor(e){this.strings=void 0,this.stackTable=(0,a.Gh)(),this.stackMap=new Map,this.strings=e}toJson(){return this.stackTable}findOrAddStack(e,t){const r=`${e}-${t??"null"}`;let n=this.stackMap.get(r);return n||(this.stackTable.frame.push(e),this.stackTable.prefix.push(t),n=this.stackTable.length++,this.stackMap.set(r,n)),n}}class b{constructor(e){this.name=void 0,this.isMainThread=void 0,this.tid=void 0,this.pid=void 0,this.stringArray=[],this.strings=l.M.withBackingArray(this.stringArray),this.sampleTable=(0,a.zl)(),this.stackTable=new g(this.strings),this.frameTable=new y(this.strings),this.funcTable=new m(this.strings),this.resourceTable=new h(this.strings),this.cpuClockEventId=-1,this.tid=e.threadId,this.pid=e.processId,this.isMainThread=e.threadId===e.processId,this.name=e.threadName??""}toJson(){return{processType:"default",processStartupTime:0,processShutdownTime:null,registerTime:0,unregisterTime:null,pausedRanges:[],name:this.name,isMainThread:this.isMainThread,pid:this.pid.toString(),tid:this.tid,samples:this.sampleTable,markers:(0,a.qc)(),stackTable:this.stackTable.toJson(),frameTable:this.frameTable.toJson(),stringArray:this.stringArray,funcTable:this.funcTable.toJson(),resourceTable:this.resourceTable.toJson(),nativeSymbols:(0,a.Ry)()}}enableCpuClock(e){this.cpuClockEventId=e,e>=0&&(this.sampleTable.weight=[],this.sampleTable.weightType="tracing-ms")}addSample(e,t){let r=null;for(const n of e.callchain.reverse()){const e=t.get(n.fileId),o=this.resourceTable.findOrAddResource(e),i=n.symbolId>=0?e.symbol[n.symbolId]:`${e.path.split(/[\\/]/).pop()}+0x${n.vaddrInFile.toString(16)}`,a=this.funcTable.findOrAddFunc(i,o),l=e.path??"",s=l.startsWith("/apex/")||l.startsWith("/system/")||l.startsWith("/vendor/");let p=f.Other;if("[kernel.kallsyms]"===l||l.endsWith(".ko"))p=f.Kernel;else if(l.endsWith(".so"))p=s?f.System:f.Native;else if("[JIT app cache]"===l||l.endsWith(".vdex")||l.endsWith(".apk")||l.endsWith(".jar")||l.endsWith(".oat")||l.endsWith(".odex")){const e=i.startsWith("java.")||i.startsWith("javax.")||i.startsWith("kotlin.")||i.startsWith("kotlinx.")||i.startsWith("dalvik."),t=i.startsWith("android.")||i.startsWith("com.android.")||i.startsWith("androidx.")||i.startsWith("libcore.");p=s||t||e?f.System:f.Java}const d=this.frameTable.findOrAddFrame(a,p);r=this.stackTable.findOrAddStack(d,r)}if(this.sampleTable.stack.push(r),(0,s.Nn)(this.sampleTable.time).push(c(e.time??0)),this.sampleTable.weight){const t=this.cpuClockEventId>=0&&e.eventTypeId===this.cpuClockEventId?c(e.eventCount??0):0;this.sampleTable.weight.push(t)}this.sampleTable.length++}}class w{constructor(){this.threads=[],this.threadMap=new Map,this.fileMap=new Map,this.eventTypes=void 0,this.cpuClockEventId=void 0,this.appPackageName=void 0,this.sampleCount=0,this.lostCount=0}toJson(){return{meta:this.getProfileMeta(),libs:[],threads:this.threads.map((e=>e.toJson()))}}getProfileMeta(){return{interval:0,startTime:0,processType:0,categories:f.toJson(),product:this.appPackageName??"Android Profile",stackwalk:0,version:30,preprocessedProfileVersion:i.Ie,symbolicationNotSupported:!0,markerSchema:[],platform:"Android",toolkit:"android",importedFrom:"Simpleperf",usesOnlyOneStackType:!0,sourceCodeIsNotOnSearchfox:!0,extra:[{label:"Profile Information",entries:[{label:"Sample Count",format:"integer",value:this.sampleCount},{label:"Lost Samples",format:"integer",value:this.lostCount},{label:"Sampled events",format:"list",value:this.eventTypes}]}],keepProfileThreadOrder:!0}}setMetaInfo(e){this.eventTypes=e?.eventType??[],this.appPackageName=e?.appPackageName,this.cpuClockEventId=(this.eventTypes&&this.eventTypes.indexOf("cpu-clock"))??-1}setLostSituation(e){this.sampleCount=u(e?.sampleCount??0),this.lostCount=u(e?.lostCount??0)}addFile(e){this.fileMap.set(e.id,e)}addThread(e){const t=new b(e);this.threads.push(t),this.threadMap.set(e.threadId,t)}finalizeThreads(){this.threads.forEach((e=>{e.enableCpuClock(this.cpuClockEventId??-1)}))}addSample(e){const t=this.threadMap.get(e.threadId);t?t.addSample(e,this.fileMap):console.warn(`Thread not found for sample: ${e.threadId}`)}}class O{constructor(e){this.buffer=void 0,this.bufferView=void 0,this.bufferOffset=0,this.buffer=e,this.bufferView=new DataView(e)}readUint16LE(){const e=this.bufferView.getUint16(this.bufferOffset,!0);return this.bufferOffset+=2,e}readUint32LE(){const e=this.bufferView.getUint32(this.bufferOffset,!0);return this.bufferOffset+=4,e}readMagic(){if(!(0,p.x)(p.S,this.buffer))throw new Error("Invalid simpleperf file");this.bufferOffset+=p.S.length}readRecord(e){const t=this.buffer.slice(this.bufferOffset,this.bufferOffset+e),r=new Uint8Array(t);return this.bufferOffset+=e,o.simpleperf_report_proto.Record.decode(r)}process(){this.readMagic(),this.readUint16LE();let e=this.readUint32LE();const t=new w,r=[];let n=0;for(;e>0;){const o=this.readRecord(e);switch(o.recordData){case"sample":r.push(o.sample);break;case"lost":n=u(o.lost?.sampleCount??0),t.setLostSituation(o.lost);break;case"file":t.addFile(o.file);break;case"thread":t.addThread(o.thread);break;case"metaInfo":t.setMetaInfo(o.metaInfo);break;case"contextSwitch":break;default:console.warn(`Unknown record type: ${o.recordData}`)}e=this.readUint32LE()}if(r.length!==n)throw new Error("Samples count doesn't match the number of samples read");return t.finalizeThreads(),r.forEach((e=>t.addSample(e))),t.toJson()}}function v(e){return new O(e).process()}}};